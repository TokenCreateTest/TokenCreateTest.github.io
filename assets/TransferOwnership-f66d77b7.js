import{_ as b,d as w,g as i,r as c,o as g,k as h,l as r,w as d,n,p as y,u as k,v as C,t as $}from"./index-c13bd969.js";import{u as A}from"./manage-41dc1682.js";import{f as O}from"./index-9c3c8bb8.js";import"./bignumber-3e8dfdf6.js";import"./units-2eb18b98.js";const S={class:"authority-transfer"},T={__name:"TransferOwnership",setup(V){const{t:a}=w(),t=A(),l=i(t.owner),s=i(""),u=i(!1);t.$subscribe((e,o)=>{l.value=t.owner});async function m(){if(!/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test(s.value)){n(a("trueFormat"));return}if(s.value==l.value){n(a("transferConsistent"));return}u.value=!0;try{const e=await y.token.contract(t.tokenAddress,t.abi),o=await e.transferOwnership(s.value);n({type:"success",message:a("submitSuccess")}),await o.wait(),t.owner=await e.owner(),s.value="",n({type:"success",message:a("transferSuccess")})}catch(e){console.log(e),e.code===4001?n(a("userCancelOperate")):n(a("transferFail"))}finally{u.value=!1}}return(e,o)=>{const p=c("van-field"),f=c("van-cell-group"),_=c("van-button");return g(),h("div",S,[r(f,{inset:""},{default:d(()=>[r(p,{"model-value":k(O)(l.value),"label-width":"9.5em",disabled:"",label:e.$t("ownership"),"input-align":"right"},null,8,["model-value","label"])]),_:1}),r(f,{inset:""},{default:d(()=>[r(p,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=v=>s.value=v),label:e.$t("transferTo"),placeholder:e.$t("input"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1}),r(_,{type:"primary",round:"",block:"",class:"btn",loading:u.value,onClick:m},{default:d(()=>[C($(e.$t("submit")),1)]),_:1},8,["loading"])])}}},D=b(T,[["__scopeId","data-v-4b9695f3"]]);export{D as default};
