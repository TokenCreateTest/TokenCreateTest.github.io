import{R as z}from"./Rate-15acfcbc.js";import{_ as J,b as K,g as i,f as Y,r as ee,o as oe,k as te,a as l,l as n,w as s,u as k,D as B,E as d,G as m,H as ne,I as U,S as se,v as a,O as le,P as ae}from"./index-66221e7d.js";import{D as C}from"./Dialog-eda25fd9.js";import{E as P,a as re}from"./ERC20ABI-8ebaa2cb.js";/* empty css                                                       */const R=w=>(le("data-v-22f541c8"),w=w(),ae(),w),ie={class:"test"},fe=R(()=>l("div",null,"请确认各项信息正确配置，代币名称、简称、公链、所有者地址、知否增发等信息，提交后将无法修改~",-1)),ue=R(()=>l("div",{style:{paddingTop:"20px"}},"*本次创建服务费：10 USDT",-1)),ce={__name:"Test",setup(w){const f=K(),g=i(!1),T=i(!1),E=i(!1),D=i(!1),N=i(!1),F=i(!1),b=i(!1),p=Y(),y=i("0");async function V(){console.log("testClick");const u=f.walletAddress,e=f.tokenFactoryAddress,t=new B(window.ethereum);console.dir(t);const o=await t.getSigner();console.dir(o);const r=new d(e,m,t);console.dir(r);let c=await r.deployers(0);console.log("deployer0",c);let v=await r.baseFee();console.log("baseFee",v);let h=await r.baseFeeToken();console.log("baseFeeToken",h);const _=new d(h,P,o),G=await _.decimals(),L=ne(v,G);console.log("baseFeeAmount",L);const I=await _.allowance(u,e);if(console.log("allowance",I),I==0n){const j=await _.approve(e,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");console.log("approve",j)}const S=new d(e,m,o);console.dir(S),console.log(y.toString());const M=0,x=[],Q=[],X=[],A=[];x[0]="Test",x[1]="TEST",X[0]=18,X[1]=U("10000000",18),A[0]=!0,console.log(U("10000000",18));const $=await S.tokenCreate(M,x,Q,X,A);console.dir($);const Z=await $.wait();console.dir(Z)}async function H(){const u=f.walletAddress,e=f.tokenFactoryAddress,t=new B(window.ethereum);console.dir(t);const o=await t.getSigner();console.dir(o);const r=new d(e,m,o),c=await r.totalCreatRecordsForUser(u);if(console.log("total",c),c!=0n){const v=await r.getCreateRecords(u,0,10);console.dir(v)}}async function O(){f.walletAddress;const e=await new B(window.ethereum).getSigner();let o=await new d(f.tokenFactoryAddress,m,e).baseFeeToken();console.log("baseFeeToken",o);const c=await new d(o,P,e).approve(f.tokenFactoryAddress,re);console.log("approve",c)}async function W(){await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:se(1116)}]})}function q(){console.dir(window.trustwallet)}return(u,e)=>{const t=ee("van-button");return oe(),te("div",ie,[l("ul",null,[l("li",null,[n(t,{onClick:e[0]||(e[0]=o=>k(p).push("/create"))},{default:s(()=>[a("创建代币")]),_:1})]),l("li",null,[n(t,{onClick:e[1]||(e[1]=o=>k(p).push("/create/rateSetting"))},{default:s(()=>[a("费率设置")]),_:1})]),l("li",null,[n(t,{onClick:e[2]||(e[2]=o=>k(p).push("/create/BasicInfo"))},{default:s(()=>[a("基础信息")]),_:1})]),l("li",null,[n(t,{onClick:e[3]||(e[3]=o=>k(p).push("/create/ZeroRate"))},{default:s(()=>[a("0费率模版")]),_:1})]),l("li",null,[n(t,{onClick:e[4]||(e[4]=o=>g.value=!0)},{default:s(()=>[a("尚未完成创建")]),_:1})]),l("li",null,[n(t,{onClick:e[5]||(e[5]=o=>T.value=!0)},{default:s(()=>[a("即将完成代币创建")]),_:1})]),l("li",null,[n(t,{onClick:e[6]||(e[6]=o=>E.value=!0)},{default:s(()=>[a("创建已提交")]),_:1})]),l("li",null,[n(t,{onClick:e[7]||(e[7]=o=>D.value=!0)},{default:s(()=>[a("放弃权限确认")]),_:1})]),l("li",null,[n(t,{onClick:e[8]||(e[8]=o=>N.value=!0)},{default:s(()=>[a("放弃权限成功")]),_:1})]),l("li",null,[n(t,{onClick:e[9]||(e[9]=o=>F.value=!0)},{default:s(()=>[a("黑名单")]),_:1})]),l("li",null,[n(t,{onClick:e[10]||(e[10]=o=>b.value=!0)},{default:s(()=>[a("白名单")]),_:1})]),l("li",null,[n(t,{onClick:W},{default:s(()=>[a("Hex")]),_:1})]),l("li",null,[n(t,{onClick:q},{default:s(()=>[a("TrustWallet")]),_:1})])]),l("div",null,[n(z,{value:y.value,"onUpdate:value":e[11]||(e[11]=o=>y.value=o)},null,8,["value"])]),n(t,{onClick:V},{default:s(()=>[a("创建合约")]),_:1}),n(t,{onClick:H},{default:s(()=>[a("读取Token列表")]),_:1}),n(t,{onClick:O},{default:s(()=>[a("取消授权")]),_:1}),n(C,{show:g.value,"onUpdate:show":e[12]||(e[12]=o=>g.value=o),message:"还差X步就完成创建了，确定返回吗？",cancelButtonText:"确定返回",confirmButtonText:"继续创建"},null,8,["show"]),n(C,{show:T.value,"onUpdate:show":e[13]||(e[13]=o=>T.value=o),title:"即将完成代币创建",theme:"round-button",showCancelButton:!1,confirmButtonText:"确认无误，完成创建"},{default:s(()=>[fe,ue]),_:1},8,["show"]),n(C,{show:F.value,"onUpdate:show":e[14]||(e[14]=o=>F.value=o),message:"确定将XXXX设置为黑名单吗？设置后，该地址将无法买卖XXXX",cancelButtonText:"再想想",confirmButtonText:"确定添加"},null,8,["show"]),n(C,{show:b.value,"onUpdate:show":e[15]||(e[15]=o=>b.value=o),message:"确定将XXXX设置为白名单吗？设置后，该地址买卖XXXX，将享受0费率待遇",cancelButtonText:"再想想",confirmButtonText:"确定添加"},null,8,["show"])])}}},me=J(ce,[["__scopeId","data-v-22f541c8"]]);export{me as default};
