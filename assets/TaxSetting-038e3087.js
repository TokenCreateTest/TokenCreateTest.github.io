import{D as S}from"./DropDown-9ed64503.js";import{T as I,C as D}from"./TokenList-95b80ccc.js";import{_ as R,d as E,f as q,b as M,g as _,e as p,r as b,o as G,k as j,a as o,l,w as n,t as c,u as t,F as z,n as F,V as g,v as B}from"./index-f0cc0380.js";import{u as H}from"./create-cf5e73da.js";import{R as v}from"./Rate-5f7a8ac5.js";import{B as m}from"./bignumber-3e8dfdf6.js";import{f as J}from"./index-8309da18.js";const K={class:"setting"},O={class:"rate-setting"},Q={class:"title"},W={class:"rate-setting"},X={class:"title"},Y={class:"address-setting"},Z={class:"title"},ee={class:"btn-control-group"},te={__name:"TaxSetting",props:{createTokenLoading:Boolean},emits:["createTokenClick","nextStepClick"],setup(le,{emit:se}){const{t:d}=E(),k=q(),T=M(),e=H(),y=_(!1),x=_(!1),i=20,C=p(()=>m(i).minus(e.buyBurnFee).minus(e.buyLPFee).toNumber()),L=p(()=>m(i).minus(e.buyFundFee).minus(e.buyLPFee).toNumber()),$=p(()=>m(i).minus(e.buyFundFee).minus(e.buyBurnFee).toNumber()),h=p(()=>m(i).minus(e.sellBurnFee).minus(e.sellLPFee).toNumber()),N=p(()=>m(i).minus(e.sellFundFee).minus(e.sellLPFee).toNumber()),A=p(()=>m(i).minus(e.sellFundFee).minus(e.sellBurnFee).toNumber());function P(){e.step=2,k.push("/create/detail")}function U(){if(e.deployerId===1){if(!e.token){F(d("pleaseSelectCurrency"));return}if(!e.chainSwap){F(d("pleaseSelectSwap"));return}if(m(e.buyFundFee).plus(e.buyBurnFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellBurnFee).plus(e.sellLPFee).lte(0)){F(d("taxMustGt0"));return}if((Number(e.buyFundFee)>0||Number(e.sellFundFee)>0)&&!e.fundAddress){F(d("pleaseEnterMarketingAddress"));return}if(e.fundAddress&&!/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test(e.fundAddress)){F(d("pleaseEnterTrueAddress"));return}}e.step=3,k.push("/create/IssueControl")}return(u,s)=>{const r=b("van-cell"),f=b("van-cell-group"),V=b("van-field"),w=b("van-button");return G(),j(z,null,[o("div",K,[l(f,{inset:""},{default:n(()=>[l(r,{title:u.$t("selectCurrency"),class:"switch-cell",onClick:s[0]||(s[0]=a=>x.value=!0)},g({_:2},[t(e).token?{name:"value",fn:n(()=>[l(S,{logo:t(e).token.icon,value:t(e).token.symbol},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:n(()=>[o("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),l(f,{inset:""},{default:n(()=>[l(r,{title:u.$t("selectSwap"),class:"switch-cell",onClick:s[1]||(s[1]=a=>y.value=!0)},g({_:2},[t(e).chainSwap?{name:"value",fn:n(()=>[l(S,{logo:t(e).chainSwap.swapIcon,value:t(e).chainSwap.showName},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:n(()=>[o("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),o("div",O,[o("div",Q,c(t(d)("buyTax",{max:i})),1),l(r,{class:"rate-cell",title:u.$t("marketingTax")},{extra:n(()=>[l(v,{value:t(e).buyFundFee,"onUpdate:value":s[2]||(s[2]=a=>t(e).buyFundFee=a),"max-value":t(C)},null,8,["value","max-value"])]),_:1},8,["title"]),l(r,{class:"rate-cell",title:u.$t("liquidityTax")},{extra:n(()=>[l(v,{value:t(e).buyLPFee,"onUpdate:value":s[3]||(s[3]=a=>t(e).buyLPFee=a),"max-value":t($)},null,8,["value","max-value"])]),_:1},8,["title"]),l(r,{class:"rate-cell",title:u.$t("burnTax")},{extra:n(()=>[l(v,{value:t(e).buyBurnFee,"onUpdate:value":s[4]||(s[4]=a=>t(e).buyBurnFee=a),"max-value":t(L)},null,8,["value","max-value"])]),_:1},8,["title"])]),o("div",W,[o("div",X,c(t(d)("sellTax",{max:i})),1),l(r,{class:"rate-cell",title:u.$t("marketingTax")},{extra:n(()=>[l(v,{value:t(e).sellFundFee,"onUpdate:value":s[5]||(s[5]=a=>t(e).sellFundFee=a),"max-value":t(h)},null,8,["value","max-value"])]),_:1},8,["title"]),l(r,{class:"rate-cell",title:u.$t("liquidityTax")},{extra:n(()=>[l(v,{value:t(e).sellLPFee,"onUpdate:value":s[6]||(s[6]=a=>t(e).sellLPFee=a),"max-value":t(A)},null,8,["value","max-value"])]),_:1},8,["title"]),l(r,{class:"rate-cell",title:u.$t("burnTax")},{extra:n(()=>[l(v,{value:t(e).sellBurnFee,"onUpdate:value":s[7]||(s[7]=a=>t(e).sellBurnFee=a),"max-value":t(N)},null,8,["value","max-value"])]),_:1},8,["title"])]),o("div",Y,[o("div",Z,c(u.$t("addressSetting")),1),l(f,{inset:"",class:"rate-cell"},{default:n(()=>[l(r,{title:u.$t("ownerAddr"),class:"switch-cell",value:t(J)(t(T).walletAddress)},null,8,["title","value"])]),_:1}),l(f,{inset:"",class:"rate-cell"},{default:n(()=>[l(V,{modelValue:t(e).fundAddress,"onUpdate:modelValue":s[8]||(s[8]=a=>t(e).fundAddress=a),"label-width":"10em",label:u.$t("marketingAddress"),placeholder:u.$t("enterAddress"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1})]),o("div",ee,[l(w,{type:"primary",plain:"",round:"",block:"",class:"btn-control",onClick:P},{default:n(()=>[B(c(u.$t("previousStep")),1)]),_:1}),l(w,{type:"primary",round:"",block:"",class:"btn-control",onClick:U},{default:n(()=>[B(c(u.$t("nextStep")),1)]),_:1})])]),l(I,{showTokenList:x.value,"onUpdate:showTokenList":s[9]||(s[9]=a=>x.value=a)},null,8,["showTokenList"]),l(D,{showChainSwap:y.value,"onUpdate:showChainSwap":s[10]||(s[10]=a=>y.value=a)},null,8,["showChainSwap"])],64)}}},me=R(te,[["__scopeId","data-v-42a0c7e6"]]);export{me as default};
