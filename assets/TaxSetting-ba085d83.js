import{D as I}from"./DropDown-d8bc9370.js";import{T as M,C as z}from"./TokenList-67d9bcaf.js";import{_ as G,d as j,f as H,b as J,g as L,e as p,r as b,o as y,k as K,a as d,l as s,w as a,t as c,u as l,c as x,z as w,F as O,n as F,V as B,v as T}from"./index-fc495694.js";import{u as Q}from"./create-2da85b8e.js";import{R as v}from"./Rate-6408a612.js";import{B as o}from"./bignumber-3e8dfdf6.js";import{f as W}from"./index-a9a80dc3.js";const X={class:"setting"},Y={class:"rate-setting"},Z={class:"title"},ee={class:"rate-setting"},le={class:"title"},te={class:"address-setting"},se={class:"title"},ue={class:"btn-control-group"},ae={__name:"TaxSetting",props:{createTokenLoading:Boolean},emits:["createTokenClick","nextStepClick"],setup(ne,{emit:re}){const{t:m}=j(),g=H(),C=J(),e=Q(),k=L(!1),S=L(!1),r=20,N=p(()=>e.deployerId==1?o(r).minus(e.buyBurnFee).minus(e.buyLPFee).toNumber():e.deployerId==2?o(r).minus(e.buyRewardFee).minus(e.buyLPFee).toNumber():0),$=p(()=>e.deployerId==1?o(r).minus(e.buyFundFee).minus(e.buyBurnFee).toNumber():e.deployerId==2?o(r).minus(e.buyFundFee).minus(e.buyRewardFee).toNumber():0),P=p(()=>{if(e.deployerId==1)return o(r).minus(e.buyFundFee).minus(e.buyLPFee).toNumber()}),R=p(()=>e.deployerId==2?o(r).minus(e.buyFundFee).minus(e.buyLPFee).toNumber():0),A=p(()=>e.deployerId==1?o(r).minus(e.sellBurnFee).minus(e.sellLPFee).toNumber():e.deployerId==2?o(r).minus(e.sellRewardFee).minus(e.sellLPFee).toNumber():0),h=p(()=>e.deployerId==1?o(r).minus(e.sellFundFee).minus(e.sellBurnFee).toNumber():e.deployerId==2?o(r).minus(e.sellFundFee).minus(e.sellRewardFee).toNumber():0),U=p(()=>e.deployerId==1?o(r).minus(e.sellFundFee).minus(e.sellLPFee).toNumber():0),V=p(()=>e.deployerId==2?o(r).minus(e.sellFundFee).minus(e.sellLPFee).toNumber():0);function D(){e.step=2,g.push("/create/detail")}function E(){if(e.deployerId===1||e.deployerId==2){if(!e.token){F(m("pleaseSelectCurrency"));return}if(!e.chainSwap){F(m("pleaseSelectSwap"));return}if(e.deployerId===1){if(o(e.buyFundFee).plus(e.buyBurnFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellBurnFee).plus(e.sellLPFee).lte(0)){F(m("taxMustGt0"));return}}else if(e.deployerId===2&&o(e.buyFundFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellLPFee).lte(0)){F(m("taxlimit2"));return}if((Number(e.buyFundFee)>0||Number(e.sellFundFee)>0)&&!e.fundAddress){F(m("pleaseEnterMarketingAddress"));return}if(e.fundAddress&&!/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test(e.fundAddress)){F(m("pleaseEnterTrueAddress"));return}}e.step=3,g.push("/create/IssueControl")}return(n,t)=>{const i=b("van-cell"),f=b("van-cell-group"),q=b("van-field"),_=b("van-button");return y(),K(O,null,[d("div",X,[s(f,{inset:""},{default:a(()=>[s(i,{title:n.$t("selectCurrency"),class:"switch-cell",onClick:t[0]||(t[0]=u=>S.value=!0)},B({_:2},[l(e).token?{name:"value",fn:a(()=>[s(I,{logo:l(e).token.icon,value:l(e).token.symbol},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:a(()=>[d("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),s(f,{inset:""},{default:a(()=>[s(i,{title:n.$t("selectSwap"),class:"switch-cell",onClick:t[1]||(t[1]=u=>k.value=!0)},B({_:2},[l(e).chainSwap?{name:"value",fn:a(()=>[s(I,{logo:l(e).chainSwap.swapIcon,value:l(e).chainSwap.showName},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:a(()=>[d("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),d("div",Y,[d("div",Z,c(l(m)("buyTax",{max:r})),1),s(i,{class:"rate-cell",title:n.$t("marketingTax")},{extra:a(()=>[s(v,{value:l(e).buyFundFee,"onUpdate:value":t[2]||(t[2]=u=>l(e).buyFundFee=u),"max-value":l(N)},null,8,["value","max-value"])]),_:1},8,["title"]),s(i,{class:"rate-cell",title:n.$t("liquidityTax")},{extra:a(()=>[s(v,{value:l(e).buyLPFee,"onUpdate:value":t[3]||(t[3]=u=>l(e).buyLPFee=u),"max-value":l($)},null,8,["value","max-value"])]),_:1},8,["title"]),l(e).deployerId==1?(y(),x(i,{key:0,class:"rate-cell",title:n.$t("burnTax")},{extra:a(()=>[s(v,{value:l(e).buyBurnFee,"onUpdate:value":t[4]||(t[4]=u=>l(e).buyBurnFee=u),"max-value":l(P)},null,8,["value","max-value"])]),_:1},8,["title"])):w("",!0),l(e).deployerId==2?(y(),x(i,{key:1,class:"rate-cell",title:n.$t("rewardTax")},{extra:a(()=>[s(v,{value:l(e).buyRewardFee,"onUpdate:value":t[5]||(t[5]=u=>l(e).buyRewardFee=u),"max-value":l(R)},null,8,["value","max-value"])]),_:1},8,["title"])):w("",!0)]),d("div",ee,[d("div",le,c(l(m)("sellTax",{max:r})),1),s(i,{class:"rate-cell",title:n.$t("marketingTax")},{extra:a(()=>[s(v,{value:l(e).sellFundFee,"onUpdate:value":t[6]||(t[6]=u=>l(e).sellFundFee=u),"max-value":l(A)},null,8,["value","max-value"])]),_:1},8,["title"]),s(i,{class:"rate-cell",title:n.$t("liquidityTax")},{extra:a(()=>[s(v,{value:l(e).sellLPFee,"onUpdate:value":t[7]||(t[7]=u=>l(e).sellLPFee=u),"max-value":l(h)},null,8,["value","max-value"])]),_:1},8,["title"]),l(e).deployerId==1?(y(),x(i,{key:0,class:"rate-cell",title:n.$t("burnTax")},{extra:a(()=>[s(v,{value:l(e).sellBurnFee,"onUpdate:value":t[8]||(t[8]=u=>l(e).sellBurnFee=u),"max-value":l(U)},null,8,["value","max-value"])]),_:1},8,["title"])):w("",!0),l(e).deployerId==2?(y(),x(i,{key:1,class:"rate-cell",title:n.$t("rewardTax")},{extra:a(()=>[s(v,{value:l(e).sellRewardFee,"onUpdate:value":t[9]||(t[9]=u=>l(e).sellRewardFee=u),"max-value":l(V)},null,8,["value","max-value"])]),_:1},8,["title"])):w("",!0)]),d("div",te,[d("div",se,c(n.$t("addressSetting")),1),s(f,{inset:"",class:"rate-cell"},{default:a(()=>[s(i,{title:n.$t("ownerAddr"),class:"switch-cell",value:l(W)(l(C).walletAddress)},null,8,["title","value"])]),_:1}),s(f,{inset:"",class:"rate-cell"},{default:a(()=>[s(q,{modelValue:l(e).fundAddress,"onUpdate:modelValue":t[10]||(t[10]=u=>l(e).fundAddress=u),"label-width":"10em",label:n.$t("marketingAddress"),placeholder:n.$t("enterAddress"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1})]),d("div",ue,[s(_,{type:"primary",plain:"",round:"",block:"",class:"btn-control",onClick:D},{default:a(()=>[T(c(n.$t("previousStep")),1)]),_:1}),s(_,{type:"primary",round:"",block:"",class:"btn-control",onClick:E},{default:a(()=>[T(c(n.$t("nextStep")),1)]),_:1})])]),s(M,{showTokenList:S.value,"onUpdate:showTokenList":t[11]||(t[11]=u=>S.value=u)},null,8,["showTokenList"]),s(z,{showChainSwap:k.value,"onUpdate:showChainSwap":t[12]||(t[12]=u=>k.value=u)},null,8,["showChainSwap"])],64)}}},ye=G(ae,[["__scopeId","data-v-7d250087"]]);export{ye as default};
